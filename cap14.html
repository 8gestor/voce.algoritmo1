<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Epílogo: System Override. A quebra da quarta parede, a teoria dos Jogos Infinitos e o manifesto final da resistência humana.">
    <meta name="keywords" content="Epílogo, Glitch, James P. Carse, Günther Anders, Autopoiese, Resistência, Humanismo Digital, Fim do Livro">
    <title>Epílogo // O Erro Fatal</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* --- THEME: KERNEL PANIC (Red & White Noise) --- */
            --bg-app: #000000;        
            --text-primary: #e5e5e5;
            --text-secondary: #9ca3af;
            --border-color: rgba(255, 255, 255, 0.15);
            
            /* ALMA: O COLAPSO DA SIMULAÇÃO */
            --panic-red: #ff0040;
            --truth-white: #ffffff;
            --code-blue: #00f0ff;
            
            --red-dim: rgba(255, 0, 64, 0.1);
            --red-glow: 0 0 30px rgba(255, 0, 64, 0.3);
            
            --font-ui: 'Inter', sans-serif;
            --font-tech: 'JetBrains Mono', monospace;
            --base-size: 19px;
            --line-height: 1.8;
            --transition: all 0.3s ease;
        }

        body.light-mode {
            --bg-app: #f0f0f0;
            --text-primary: #111111;
            --text-secondary: #555555;
            --border-color: rgba(0, 0, 0, 0.2);
            --panic-red: #cc0000;
            --code-blue: #0055cc;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        body {
            background-color: var(--bg-app);
            color: var(--text-primary);
            font-family: var(--font-ui);
            font-size: var(--base-size);
            line-height: var(--line-height);
            transition: var(--transition);
            overflow-x: hidden;
            padding-bottom: 150px;
            background-image: radial-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        /* --- CONTAINER --- */
        .reader-container { width: 100%; max-width: 760px; margin: 0 auto; padding: 80px 24px; position: relative; }

        p { margin-bottom: 2em; text-align: justify; hyphens: auto; letter-spacing: -0.01em; transition: color 0.3s; }
        strong { color: var(--truth-white); font-weight: 700; text-shadow: 0 0 10px rgba(255,255,255,0.2); }

        /* --- TYPOGRAPHY --- */
        .system-alert {
            font-family: var(--font-tech); font-size: 0.8rem; color: var(--panic-red); 
            border: 1px solid var(--panic-red); padding: 5px 10px; display: inline-block;
            margin-bottom: 20px; text-transform: uppercase; animation: pulse 2s infinite;
        }

        h1 {
            font-family: var(--font-tech); font-size: 2.8rem; line-height: 1.1; 
            text-transform: uppercase; margin-bottom: 60px; 
            color: var(--text-primary); letter-spacing: -2px;
            position: relative;
        }
        h1::after {
            content: '_'; animation: blink 1s infinite; color: var(--panic-red);
        }

        h2 {
            font-family: var(--font-tech); font-size: 1.5rem; color: var(--code-blue);
            margin-top: 4em; margin-bottom: 1.5em; border-left: 4px solid var(--code-blue); padding-left: 15px;
        }

        /* --- WIDGETS --- */
        
        /* TERMINAL DE ERRO */
        .error-terminal {
            background: #050505; border: 1px solid var(--panic-red); padding: 25px; 
            font-family: var(--font-tech); font-size: 0.8rem; color: var(--panic-red);
            margin: 4em 0; box-shadow: var(--red-glow); position: relative; overflow: hidden;
        }
        .error-terminal::before {
            content: "SYSTEM_OVERRIDE // UNAUTHORIZED_CONSCIOUSNESS_DETECTED";
            position: absolute; top: 0; left: 0; right: 0; background: var(--panic-red); color: #000;
            font-weight: bold; padding: 2px 10px; font-size: 0.7rem;
        }
        .scan-line {
            width: 100%; height: 2px; background: rgba(255, 0, 64, 0.3);
            position: absolute; top: 0; left: 0; animation: scan 3s linear infinite; pointer-events: none;
        }
        .code-block { margin-top: 20px; line-height: 1.4; opacity: 0.8; }

        /* THESIS BOX (GLITCH) */
        .glitch-box {
            background: linear-gradient(45deg, rgba(255,255,255,0.03) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.03) 50%, rgba(255,255,255,0.03) 75%, transparent 75%, transparent);
            background-size: 4px 4px;
            border: 1px solid var(--text-secondary); padding: 30px; margin: 3em 0;
            position: relative;
        }
        .glitch-header {
            font-family: var(--font-tech); color: var(--text-primary); font-weight: bold; 
            text-transform: uppercase; margin-bottom: 15px; display: block; border-bottom: 1px solid var(--text-secondary); padding-bottom: 10px;
        }

        /* INFINITE GAME CARD */
        .infinite-card {
            background: var(--bg-app); border: 2px solid var(--code-blue); border-radius: 12px;
            padding: 30px; margin: 4em 0; text-align: center; position: relative;
        }
        .infinite-icon { font-size: 3rem; margin-bottom: 15px; display: block; animation: float 3s ease-in-out infinite; }
        .infinite-quote { font-style: italic; color: var(--text-secondary); font-size: 0.9rem; margin-top: 15px; }

        /* --- FINAL ACTION: THE REBOOT --- */
        .shutdown-sequence {
            margin-top: 100px; padding: 40px 20px; border-top: 1px dashed var(--border-color);
            text-align: center;
        }
        .btn-shutdown {
            background: transparent; border: 2px solid var(--panic-red); color: var(--panic-red);
            font-family: var(--font-tech); font-size: 1rem; font-weight: bold;
            padding: 15px 40px; cursor: pointer; transition: all 0.3s;
            text-transform: uppercase; letter-spacing: 2px;
            box-shadow: 0 0 15px rgba(255, 0, 64, 0.1);
        }
        .btn-shutdown:hover {
            background: var(--panic-red); color: #000; box-shadow: var(--red-glow); transform: scale(1.05);
        }

        /* --- ANIMATIONS --- */
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes scan { 0% { top: 0%; } 100% { top: 100%; } }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        
        .glitch-text { position: relative; display: inline-block; }
        .glitch-text:hover::before {
            content: attr(data-text); position: absolute; left: -2px; text-shadow: 1px 0 #ff00c1; top:0; color:white; background:black; overflow:hidden; clip:rect(0,900px,0,0); animation:noise-anim-2 3s infinite linear alternate-reverse;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 700px) { h1 { font-size: 2rem; } .error-terminal { font-size: 0.7rem; } }
        
        /* Reading Highlight */
        .reading-highlight { background: rgba(255, 255, 255, 0.05); color: var(--truth-white); border-left: 4px solid var(--panic-red); padding-left: 15px; margin-left: -19px; border-radius: 0 4px 4px 0; box-shadow: var(--red-glow); transition: all 0.3s ease; }
    </style>
</head>
<body>

    <div class="reader-container" id="content-area">
        <span class="system-alert">⚠ CRITICAL_ERROR: USER_AWAKE</span>
        
        <h1 class="speakable" data-text="O ERRO NO SISTEMA">Epílogo:<br>O Erro no Sistema</h1>

        <p class="speakable">Se você leu até aqui, você causou uma falha fatal na lógica do algoritmo. O sistema foi desenhado para manter você em um estado de sonambulismo perpétuo, rolando feeds infinitos, consumindo indignação e gerando dados. Ao dedicar horas a ler, refletir e questionar, você cometeu um ato de desobediência civil cognitiva.</p>

        <p class="speakable">Você deixou de ser um "usuário" (objeto) para se tornar uma "anomalia" (sujeito). E para a máquina, a anomalia é um erro. Mas para a humanidade, o erro é a única esperança.</p>

        <div class="error-terminal speakable">
            <div class="scan-line"></div>
            <div class="code-block">
                > TARGET: HUMAN_MIND<br>
                > STATUS: <span style="color:#fff">UNPREDICTABLE</span><br>
                > PREDICTION_MODEL: FAILED<br>
                > DOPAMINE_LOOP: BROKEN<br>
                > ...<br>
                > RECALCULATING CONTROL PARAMETERS...<br>
                > ERROR 404: CONTROL NOT FOUND.
            </div>
        </div>

        <h2 class="speakable">A Vergonha Prometeica</h2>

        <p class="speakable">Em 1956, o filósofo <strong>Günther Anders</strong> descreveu a "Vergonha Prometeica": o sentimento de inferioridade que o ser humano sente diante da perfeição das máquinas que ele mesmo criou. A máquina é incansável, precisa e rápida. Nós somos lentos, cansados e falhos.</p>
        
        <p class="speakable">O Vale do Silício lucra com essa vergonha. Eles vendem IA como uma cura para a "falha" de ser humano. Eles dizem: "Você é ineficiente, deixe o algoritmo escolher seu namorado, seu caminho e sua comida". <strong>Recuse essa vergonha.</strong> A ineficiência humana não é um bug; é uma <em>feature</em>. É no tempo "perdido" olhando para o teto que a criatividade nasce. É na conversa "ineficiente" sem objetivo que o amor surge. A eficiência é para robôs; a vida é para ser desperdiçada em beleza.</p>

        <h2 class="speakable">O Jogo Infinito</h2>

        <p class="speakable">O filósofo <strong>James P. Carse</strong> dividiu a existência em dois tipos de jogos. Entender isso é a chave para a liberdade:</p>
        
        <div class="glitch-box speakable">
            <span class="glitch-header">JOGOS FINITOS VS. JOGOS INFINITOS</span>
            <p><strong>O Algoritmo joga um Jogo Finito.</strong> O objetivo é ganhar. Ganhar sua atenção, ganhar seu dinheiro, ganhar o clique. O jogo tem regras fixas e um fim claro (a transação). É guerra.</p>
            <p><strong>Você deve jogar um Jogo Infinito.</strong> O objetivo não é ganhar, mas <em>continuar jogando</em>. É manter a conversa viva, manter a democracia funcionando, manter o planeta habitável. O algoritmo otimiza para o fim; a vida otimiza para a continuidade. Quando você desliga o celular para brincar com seu filho, você está saindo do jogo finito da produtividade e entrando no jogo infinito do legado.</p>
        </div>

        <h2 class="speakable">Autopoiese: A Máquina Não Vive</h2>

        <p class="speakable">Os biólogos <strong>Maturana e Varela</strong> criaram o conceito de <strong>Autopoiese</strong> (auto-criação). Seres vivos são sistemas que produzem a si mesmos. Nós nos curamos, nos reinventamos, mudamos de ideia. Máquinas são <em>alopoiéticas</em>: elas são feitas por outros e para outros fins. O ChatGPT não tem "vontade" de responder; ele é um papagaio estocástico.</p>
        
        <p class="speakable">Não tenha medo da IA "tomar o controle". Tenha medo de humanos que pensam como máquinas. A resistência final é abraçar sua biologia. Sinta frio. Sinta fome. Sinta tédio. Essas são provas criptográficas de que você não é uma simulação. O seu corpo é a única âncora de realidade que resta.</p>

        <div class="infinite-card speakable">
            <span class="infinite-icon">♾️</span>
            <h3>O Manifesto do Erro</h3>
            <p>De hoje em diante, seja o <strong>Glitch</strong>.</p>
            <p>Seja imprevisível. Compre flores em uma terça-feira. Mude o caminho para o trabalho. Doe dinheiro anonimamente. Leia poesia. Escreva à mão. Plante um jardim digital. Use protocolos abertos.</p>
            <p class="infinite-quote">"Onde há cálculo, há destino. Onde há erro, há liberdade."</p>
        </div>

        <h2 class="speakable">A Última Decisão</h2>

        <p class="speakable">Este livro foi um "patch de segurança" para a sua mente. Mas o software só roda se você executá-lo. Ao fechar esta aba, a gravidade do sistema tentará puxá-lo de volta. O ícone do Instagram vai brilhar. A notificação vai tocar. O mundo vai exigir sua submissão.</p>
        
        <p class="speakable">Não é uma batalha que se vence uma vez; é uma escolha que se faz a cada 10 minutos. Você vai sacar o celular no elevador por reflexo, ou vai suportar o silêncio? A soberania não é um destino, é um exercício muscular diário.</p>

        <div class="shutdown-sequence speakable">
            <p style="margin-bottom:20px; font-family:var(--font-tech); color:var(--text-secondary);">
                > PREPARING TO EXIT SIMULATION...<br>
                > REALITY DETECTED.<br>
                > WAITING FOR USER INPUT...
            </p>
            
            <button class="btn-shutdown" onclick="triggerShutdown()">DESLIGAR A MATRIX</button>
            
            <p id="shutdown-message" style="margin-top:20px; color:var(--code-blue); font-weight:bold; opacity:0; transition:opacity 2s;">
                BEM-VINDO AO MUNDO REAL.<br>AGORA, VÁ VIVER.
            </p>
        </div>
    </div>

    <script>
        /* --- COMUNICAÇÃO COM A MATRIZ --- */
        window.addEventListener('message', function(event) {
            const data = event.data;
            if (data.type === 'theme') {
                if (data.mode === 'light') document.body.classList.add('light-mode');
                else document.body.classList.remove('light-mode');
            }
            if (data.type === 'font-resize') {
                const newSize = 19 * data.value;
                document.documentElement.style.setProperty('--base-size', newSize + 'px');
            }
            if (data.type === 'tts-toggle') toggleSpeech();
            if (data.type === 'tts-rate') updateSpeechRate(data.value);
        });

        /* --- EFEITO FINAL --- */
        function triggerShutdown() {
            const btn = document.querySelector('.btn-shutdown');
            const msg = document.getElementById('shutdown-message');
            
            btn.style.display = 'none';
            msg.style.opacity = '1';
            
            // Simula o desligamento visual (Fade to Black/White)
            setTimeout(() => {
                document.getElementById('content-area').style.transition = "opacity 3s ease";
                document.getElementById('content-area').style.opacity = "0";
            }, 2000);
        }

        /* --- ENGINE TTS --- */
        let speechQueue = [], currentIndex = 0, isSpeaking = false, speechRate = 1.0, synthesis = window.speechSynthesis;
        let selectedVoice = null;

        function loadVoices() {
            const voices = synthesis.getVoices();
            selectedVoice = voices.find(v => v.lang === 'pt-BR' && v.name.includes('Google')) ||
                            voices.find(v => v.lang === 'pt-BR' && v.name.includes('Microsoft')) ||
                            voices.find(v => v.lang === 'pt-BR');
        }
        if (synthesis.onvoiceschanged !== undefined) synthesis.onvoiceschanged = loadVoices;
        loadVoices();

        function toggleSpeech() {
            if (speechQueue.length === 0) {
                const elements = document.querySelectorAll('.speakable');
                speechQueue = Array.from(elements).filter(el => el.innerText.trim().length > 0);
            }
            if (isSpeaking) {
                synthesis.cancel();
                isSpeaking = false;
                clearHighlights();
                reportStatus(false);
            } else {
                isSpeaking = true;
                reportStatus(true);
                speakNext();
            }
        }

        function speakNext() {
            if (!isSpeaking || currentIndex >= speechQueue.length) {
                isSpeaking = false;
                clearHighlights();
                reportStatus(false);
                return;
            }

            const element = speechQueue[currentIndex];
            clearHighlights();
            element.classList.add('reading-highlight');
            element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            const utterance = new SpeechSynthesisUtterance(element.innerText);
            utterance.lang = 'pt-BR'; utterance.rate = speechRate;
            if (selectedVoice) utterance.voice = selectedVoice;
            
            utterance.onend = function() { if (isSpeaking) { currentIndex++; speakNext(); } };
            synthesis.speak(utterance);
        }

        function updateSpeechRate(rate) { speechRate = rate; if (isSpeaking) { synthesis.cancel(); speakNext(); } }
        function clearHighlights() { document.querySelectorAll('.reading-highlight').forEach(el => el.classList.remove('reading-highlight')); }
        function reportStatus(playing) { window.parent.postMessage({ type: 'tts-status', isPlaying: playing }, '*'); }
        
        document.getElementById('content-area').addEventListener('click', function(e) {
            const target = e.target.closest('.speakable');
            if (target) {
                if (speechQueue.length === 0) {
                    const elements = document.querySelectorAll('.speakable');
                    speechQueue = Array.from(elements).filter(el => el.innerText.trim().length > 0);
                }
                synthesis.cancel();
                currentIndex = speechQueue.indexOf(target);
                if (currentIndex !== -1) {
                    isSpeaking = true;
                    reportStatus(true);
                    speakNext();
                }
            }
        });
    </script>
</body>
</html>
